!function(e,s){"object"==typeof exports&&"object"==typeof module?module.exports=s():"function"==typeof define&&define.amd?define([],s):"object"==typeof exports?exports.Users=s():e.Users=s()}(window,function(){return(window.webpackJsonp_name_=window.webpackJsonp_name_||[]).push([[22],{"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&":function(e,s,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"div.fetching[data-v-43b26bcb] {\n  height: 28px;\n  margin: 1em 0;\n}\ndiv.fetching p[data-v-43b26bcb] {\n  text-align: center;\n  font-style: italic;\n  color: #c41425;\n  padding-top: 2px;\n}\n.more[data-v-43b26bcb] {\n  text-align: center;\n}\n.more button[data-v-43b26bcb] {\n  font-size: 0.8em;\n  height: 28px;\n  margin: 0;\n}\n\n",""])},"./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&":function(e,s,t){(e.exports=t("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"a.searcher[data-v-e8e7f840] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  height: 100%;\n  min-height: 100%;\n  width: 21px;\n  text-align: center;\n  background: #aaaaaa;\n}\na.searcher img[data-v-e8e7f840] {\n  height: 16px;\n  width: 16px;\n  vertical-align: -4px;\n}\ndiv.cl-input[data-v-e8e7f840] {\n  display: inline-block;\n  position: relative;\n  width: 300px;\n}\ndiv.cl-input input[data-v-e8e7f840] {\n  width: 100%;\n  border: 1px solid #cccccc;\n}\ndiv.cl-input div.cl-results[data-v-e8e7f840] {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 100%;\n  overflow: hidden;\n  font-size: 0.85em;\n  background: white;\n  border-left: 1px solid black;\n  border-right: 1px solid black;\n  border-bottom: 1px solid black;\n}\ndiv.cl-input div.cl-results div.cl-result-list[data-v-e8e7f840] {\n  display: table;\n  width: 100%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div[data-v-e8e7f840] {\n  display: table-row;\n  border-bottom: 1px solid #888888;\n  cursor: pointer;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-e8e7f840] {\n  display: table-cell;\n  white-space: nowrap;\n  text-align: left;\n  padding: 0.5em 0.25em;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-e8e7f840] {\n  text-decoration: none;\n  color: black;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span a[data-v-e8e7f840]:hover {\n  color: #888888;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-e8e7f840]:first-child {\n  font-style: italic;\n}\ndiv.cl-input div.cl-results div.cl-result-list div span[data-v-e8e7f840]:last-child {\n  overflow: hidden;\n  width: 99%;\n}\ndiv.cl-input div.cl-results div.cl-result-list div:first-child span[data-v-e8e7f840],\ndiv.cl-input div.cl-results div.cl-result-list div:last-child span[data-v-e8e7f840] {\n  padding: 0.25em 0.25em;\n}\ndiv.cl-input div.cl-results div.statement[data-v-e8e7f840] {\n  width: 100%;\n  text-align: center;\n  font-style: italic;\n}\n\n",""])},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&":function(e,s,t){var r=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("451ec1a4",r,!1,{});r.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&",function(){var s=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&");"string"==typeof s&&(s=[[e.i,s,""]]),n(s)}),e.hot.dispose(function(){n()})},"./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&":function(e,s,t){var r=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&");"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var n=(0,t("./node_modules/vue-style-loader/lib/addStylesClient.js").default)("fdefe8da",r,!1,{});r.locals||e.hot.accept("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&",function(){var s=t("./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&");"string"==typeof s&&(s=[[e.i,s,""]]),n(s)}),e.hot.dispose(function(){n()})},"./vendor/cl/users/index.js":function(e,s,t){"use strict";t.r(s);var r=t("./vendor/cl/users/js/Users/User.js"),n={namespaced:!0,state:{user:null},mutations:{set:function(e,s){s instanceof r.a?e.user=s:e.user=new r.a(s)}}},o=t("./vendor/cl/users/js/StoreModuleUsers.js"),i=function(){};console.log("UsersFactory loaded"),i.create=function(e){var s=function(){};s.MUST_PROVIDE_USERID_OR_EMAIL=101,s.PASSWORDS_MUST_MATCH=102,s.DUPLICATE_USER=103,s.DUPLICATE_EMAIL=104;var t=e.store;return void 0!==t&&(t.registerModule("user",n),t.registerModule("users",o.a.create("/api/users",function(e){return e.id}))),e.ready(function(){var s;null!==(s=document.getElementById("cl-user"))&&t.commit("user/set",JSON.parse(s.textContent)),null!==(s=document.getElementById("cl-permissions"))&&(e.permissions=new function(e){this.permissions=e,this.atLeast=function(e,s){return void 0!==this.permissions[e]?this.permissions[e]:s}}(JSON.parse(s.textContent)))}),s};var l=t("./vendor/cl/users/js/Lib/FetcherVue.vue"),u=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue");t.d(s,"Users",function(){return d}),t.d(s,"FetcherVue",function(){return l.b}),t.d(s,"UserSelectorVue",function(){return u.a}),t.d(s,"User",function(){return r.a});var d=i.create(Site.Site)},"./vendor/cl/users/js/Lib/FetcherVue.vue":function(e,s,t){"use strict";var r=t("./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=template&id=43b26bcb&scoped=true&"),n=t("./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=script&lang=js&");t.d(s,"a",function(){return n.a});t("./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&");var o=t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),i=Object(o.a)(n.b,r.render,r.staticRenderFns,!1,null,"43b26bcb",null),l=t("./node_modules/vue-hot-reload-api/dist/index.js");l.install(t("./node_modules/vue/dist/vue.esm.js")),l.compatible&&(e.hot.accept(),e.hot.data?l.reload("43b26bcb",i.options):l.createRecord("43b26bcb",i.options),e.hot.accept("./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=template&id=43b26bcb&scoped=true&",function(e){r=t("./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=template&id=43b26bcb&scoped=true&"),l.rerender("43b26bcb",{render:r.render,staticRenderFns:r.staticRenderFns})})),i.options.__file="vendor/cl/users/js/Lib/FetcherVue.vue",s.b=i.exports},"./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var r=function(){this.more=!1,this.fetching=!1,this.fetched=!1,this.start=function(e){this.fetching=!0,!0!==e&&(this.more=!1)},this.done=function(e){this.fetching=!1,!0!==e&&(this.fetched=!0)},this.reset=function(){this.more=!1,this.fetching=!1,this.fetched=!1}},n={props:{fetcher:{type:Object,default:null},fetching:{type:Boolean,default:!1}},watch:{"fetcher.fetching":function(e,s){this.setFetching()},fetching:function(e,s){this.setFetching()}},data:function(){return{showFetching:!1,delayedFetching:!1,timer:null}},mounted:function(){this.setFetching()},methods:{fetchMore:function(){this.$parent.fetchMore()},setFetching:function(){var e=this,s=null!==this.fetcher&&this.fetcher.fetching||this.fetching;s&&!this.showFetching?this.timer=setTimeout(function(){e.delayedFetching=!0},1e3):!s&&this.showFetching&&(clearTimeout(this.timer),this.time=null,this.delayedFetching=!1),this.showFetching=s}}};t.d(s,"a",function(){return r});s.b=n},"./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&":function(e,s,t){"use strict";var r=t("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=style&index=0&id=43b26bcb&lang=scss&scoped=true&");t.n(r).a},"./vendor/cl/users/js/Lib/FetcherVue.vue?vue&type=template&id=43b26bcb&scoped=true&":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.delayedFetching?t("div",{staticClass:"fetching"},[t("p",[e._v("Fetching from server...")])]):e._e(),e._v(" "),null!==e.fetcher&&e.fetcher.fetching||e.fetching?e._e():e._t("default"),e._v(" "),null!==e.fetcher&&e.fetcher.more?t("p",{staticClass:"more"},[t("button",{on:{click:function(s){return s.preventDefault(),e.fetchMore(s)}}},[e._v("MORE")])]):e._e()],2)},n=[];r._withStripped=!0,t.d(s,"render",function(){return r}),t.d(s,"staticRenderFns",function(){return n})},"./vendor/cl/users/js/Lib/UserSelectorVue.vue":function(e,s,t){"use strict";var r=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&"),n=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=script&lang=js&"),o=(t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&"),t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),i=Object(o.a)(n.a,r.render,r.staticRenderFns,!1,null,"e8e7f840",null),l=t("./node_modules/vue-hot-reload-api/dist/index.js");l.install(t("./node_modules/vue/dist/vue.esm.js")),l.compatible&&(e.hot.accept(),e.hot.data?l.reload("e8e7f840",i.options):l.createRecord("e8e7f840",i.options),e.hot.accept("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&",function(e){r=t("./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&"),l.rerender("e8e7f840",{render:r.render,staticRenderFns:r.staticRenderFns})})),i.options.__file="vendor/cl/users/js/Lib/UserSelectorVue.vue",s.a=i.exports},"./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var r={props:["selected"],data:function(){return{query:"",result:[],noresult:!1,seq:1,fetched:!1,timer:null,set:!1,more:!1,searcher:Site.root+"/vendor/cl/site/img/search.png",deleter:Site.root+"/vendor/cl/site/img/x.png"}},watch:{query:function(e,s){var t=this;this.set?this.set=!1:(null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(function(){t.fetch(e)},300))}},methods:{fetch:function(e){var s=this;if(console.log("fetch"),console.log(e),null!==this.timer&&(clearTimeout(this.timer),this.timer=null),this.selected(null),(e=e.trim()).length<2)return this.fetched=!1,void(this.result=[]);this.seq++,Site.api.get("/api/users",{search:e,seq:this.seq,limit:20}).then(function(e){if(e.hasError())Site.toast(s,e);else{if(+e.getData("seq").id!==s.seq)return;var t=e.getData("users");null!==t&&(s.result=[],s.more=!1,t.attributes.forEach(function(e){if("yes"!==e.more){var t=new Users.User(e);s.result.push(t)}else s.more=!0}),s.noresult=0===s.result.length)}}).catch(function(e){console.log(e),Site.toast(s,e)})},selectUser:function(e){this.query=e.name,this.set=!0,this.result=[],this.noresult=!1,this.more=!1,this.selected(e)},clear:function(){this.seq++,this.result=[],this.noresult=!1,this.more=!1,this.query="",this.selected(null)}}};s.a=r},"./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&":function(e,s,t){"use strict";var r=t("./node_modules/vue-style-loader/index.js!./node_modules/css-loader/index.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/resolve-url-loader/index.js!./node_modules/sass-loader/lib/loader.js?sourceMap!./node_modules/vue-loader/lib/index.js?!./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=style&index=0&id=e8e7f840&lang=scss&scoped=true&");t.n(r).a},"./vendor/cl/users/js/Lib/UserSelectorVue.vue?vue&type=template&id=e8e7f840&scoped=true&":function(e,s,t){"use strict";t.r(s);var r=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("span",[t("div",{staticClass:"cl-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.query,expression:"query"}],attrs:{type:"text",maxlength:"150"},domProps:{value:e.query},on:{input:function(s){s.target.composing||(e.query=s.target.value)}}}),e._v(" "),t("a",{staticClass:"searcher",on:{click:function(s){s.preventDefault(),e.fetch(e.query)}}},[t("img",{attrs:{src:e.searcher}})]),e._v(" "),e.result.length>0||e.noresult?t("div",{staticClass:"cl-results"},[t("div",{staticClass:"cl-result-list"},e._l(e.result,function(s){return t("div",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[t("span",[t("a",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[e._v(e._s(s.userId))])]),e._v(" "),t("span",[t("a",{on:{click:function(t){t.preventDefault(),e.selectUser(s)}}},[e._v(e._s(s.name))])])])}),0),e._v(" "),e.noresult?t("div",{staticClass:"statement"},[e._v("No results...")]):e._e(),e._v(" "),e.more?t("div",{staticClass:"statement"},[e._v("...more...")]):e._e()]):e._e()]),e._v(" "),t("a",{on:{click:function(s){return s.preventDefault(),e.clear(s)}}},[t("img",{attrs:{src:e.deleter}})])])},n=[];r._withStripped=!0,t.d(s,"render",function(){return r}),t.d(s,"staticRenderFns",function(){return n})},"./vendor/cl/users/js/StoreModuleUsers.js":function(e,s,t){"use strict";t.d(s,"a",function(){return o});var r=t("./vendor/cl/users/js/Lib/FetcherVue.vue"),n=t("./vendor/cl/users/js/Users/User.js"),o=function(){};o.create=function(e,s){return{namespaced:!0,state:{users:[],fetcher:new r.a,query:{}},mutations:{add:function(e,s){e.users.push(s)},more:function(e,s){e.fetcher.more=s},fetchStart:function(e,s){e.fetcher.start(s)},fetchDone:function(e,s){e.fetcher.done(s)},reset:function(e,s){e.fetcher.reset(),e.users=[]},query:function(e,s){e.query=s},update:function(e,t){if(e.fetcher.fetched){if(0===e.users.length)return e.fetcher.reset(),void(e.users=[]);for(var r=0;r<e.users.length;r++)if(s(t)===s(e.users[r]))return e.users[r]=t,e.fetcher.more&&n.a.compare(t,e.users[e.users.length-1])>=0?(e.fetcher.reset(),void(e.users=[])):void e.users.sort(n.a.compare);e.fetcher.more=!0}},new:function(e,s){if(e.fetcher.fetched)if(0!==e.users.length){if(!e.fetcher.more)return e.users.push(s),void e.users.sort(n.a.compare);if(n.a.compare(s,e.users[e.users.length-1])>=0)return e.fetcher.reset(),void(e.users=[]);e.users.push(s),e.users.sort(n.a.compare)}else e.users.push(s)},delete:function(e,t){for(var r=0;r<e.users.length;r++)if(s(e.users[r])===t){e.users.splice(r,1);break}}},actions:{fetch:function(e){var s=e.dispatch;e.state.fetcher.fetched||s("more")},more:function(s){var t=this,r=s.commit,n=s.state;if(!n.fetcher.fetched||n.fetcher.more){r("fetchStart");var o={limit:500,offset:n.users.length};Object.assign(o,n.query),Site.api.get(e,o).then(function(e){if(e.hasError())console.log(e),Site.toast(t,e);else{var s=e.getData("users");if(null!==s){var n=!1;s.attributes.forEach(function(e){"yes"===e.more?n=!0:r("add",new Users.User(e))}),r("more",n),r("fetchDone")}}}).catch(function(e){console.log(e),Site.toast(t,e)})}},get:function(s,t){var r=this,n=s.commit;s.state;return new Promise(function(s,o){n("fetchStart",!0),t.prevnext=1,Site.api.get(e,t).then(function(e){if(e.hasError())console.log(e),Site.toast(r,e);else{var t=e.getData("users");if(null!==t)if(t.attributes.length<1)o("User does not exist");else{n("fetchDone",!0);var i=new Users.User(t.attributes[0]),l=e.getData("prev-user");null!==l&&(i.prev=new Users.User(l.attributes));var u=e.getData("next-user");null!==u&&(i.next=new Users.User(u.attributes)),s(i)}}}).catch(function(e){console.log(e),Site.toast(r,e)})})},update:function(s,t){var r=this,n=s.commit;s.state;return new Promise(function(s,o){Site.api.post(e+"/update",t).then(function(e){if(e.hasError())o(e);else{var t=e.getData("updated-user"),r=new Users.User(t.attributes);n("update",r),s(r)}}).catch(function(e){Site.toast(r,e)})})},new:function(s,t){var r=this,n=s.commit;s.state;return new Promise(function(s,o){Site.api.post(e+"/new",t).then(function(e){if(e.hasError())console.log("reject"),o(e);else{var t=e.getData("new-user"),r=new Users.User(t.attributes);n("new",r),s(r)}}).catch(function(e){Site.toast(r,e)})})},delete:function(s,t){var r=this,n=s.commit;s.state;return new Promise(function(s,o){Site.api.post(e+"/delete",{id:t.id}).then(function(e){e.hasError()?(console.log(e),Site.toast(r,e)):(n("delete",t.id),s())}).catch(function(e){console.log(e),Site.toast(r,e)})})}}}}},"./vendor/cl/users/js/Users/User.js":function(e,s,t){"use strict";t.d(s,"a",function(){return r});var r=function e(s){var t="G",r=null;void 0!==s?("string"==typeof s&&(s=JSON.parse(s)),this.id=s.id,t=s.role,this.name=s.name,this.email=s.email,this.userId=s.user,null!==(r=e.instantiateMember(s))&&(r.user=this)):(this.id=0,t="G",this.name="",this.email="",this.userId=""),Object.defineProperty(this,"member",{get:function(){return r}}),this.role=function(){return null!==r?r.role():t},this.setUserRole=function(e){t=e},this.userRole=function(){return t},this.setMember=function(e){null!==(r=e)&&(r.user=this)}};r.GUEST="G",r.USER="U",r.STAFF="S",r.ADMIN="A",r.getUserRoles=function(){var e={};return e[r.GUEST]={name:"Guest",priority:1},e[r.USER]={name:"User",priority:2},e[r.STAFF]={name:"Staff",priority:3},e[r.ADMIN]={name:"Admin",priority:4},e},r.prototype.getUserRoles=function(){return r.getUserRoles()},r.prototype.getRoles=function(){var e=this.member;return null!==e?e.getRoles():r.getUserRoles()},r.prototype.atLeast=function(e){var s=this.role(),t=this.getRoles();return!!t.hasOwnProperty(e)&&t[s].priority>=t[e].priority},r.prototype.getRolePriority=function(e){var s=this.getRoles();return s.hasOwnProperty(e)?s[e].priority:0},r.prototype.displayName=function(){var e=this.name.indexOf(",");if(e<0)return this.name;var s=this.name.substr(0,e);return this.name.substr(e+1).trim()+" "+s},r.prototype.userRoleName=function(){var e=this.getUserRoles(),s=this.userRole();return void 0!==e[s]?e[s].name:"Invalid"},r.prototype.roleName=function(){return this.getRoles()[this.role()].name},r.compare=function(e,s){var t=e.name.toLowerCase(),r=s.name.toLowerCase();return t<r?-1:t>r?1:e.id-s.id},r.instantiateMember=function(e){return null}}},[["./vendor/cl/users/index.js",0,1]]])});